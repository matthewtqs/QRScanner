<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Display Webcam Stream</title>
 
<style>
#container {
	margin: 0px auto;
	width: 100%;
	height: 100%;
}
#videoElement {
	width: 100%;
	height: 100%;
	background-color: #666;
}
</style>
</head>
 
<body>
<div id="container">
<!-- 	<video autoplay="" id="videoElement" muted="" playsinline=""></video> -->
</div>
<div id="reader" width="600px"></div>
<div id="results"></div>
<script>
	import {Html5QrcodeScanner} from "html5-qrcode"
    // var video = document.querySelector("#videoElement");
    // if (navigator.mediaDevices.getUserMedia) {
    // navigator.mediaDevices.getUserMedia({ video: { facingMode: { exact: "environment" } } })
    //     .then(function (stream) {
    //     video.srcObject = stream;
    //     })
    //     .catch(function (err0r) {
    //     console.log("Something went wrong!");
    //     });
    // }
	function onScanSuccess(decodedText, decodedResult) {
		// handle the scanned code as you like, for example:
		document.querySelector("#results").innerHTML = decodedText + ' || ' + decodedResult
	}

	function onScanFailure(error) {
		  // handle scan failure, usually better to ignore and keep scanning.
		  // for example:
		  console.warn(`Code scan error = ${error}`);
	}

	let html5QrcodeScanner = new Html5QrcodeScanner(
		"reader",
		{ fps: 10, qrbox: {width: 250, height: 250} },
		/* verbose= */ false);
		html5QrcodeScanner.render(onScanSuccess, onScanFailure);
	
</script>
<script src="https://unpkg.com/html5-qrcode" type="text/javascript">
</body>
</html>
